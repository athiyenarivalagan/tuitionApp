<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" href="../css/cards.css">
    <link rel="stylesheet" href="../css/general.css">
    <title>tutor profile display</title>
</head>

<body>
    <!-- header -->
    <div class="container">
        <header class="header py-2 fixed-top">
            <div class="row flex-nowrap justify-content-between align-items-center">

                <div class="col-4 text-center">
                    <a href="../views/sHome.html" style="color: black;">Back</a>
                </div>

                <!-- app logo -->
                <div class="col-4 d-flex justify-content-center align-items-center">
                    <img src="images/logo.png" alt="app logo" id="logo">
                    <h3 id="navTitle">MyTutor</h3>
                </div>

                <!-- tagline -->
                <div class="col-4 text-center">
                    <h5>Your one stop solution for tuition</h5>
                </div>
            </div>
        </header>
    </div>
    <!-- end of header -->

    <!-- tutor profile cards -->
    <div class="scrollmenu">
        <!--Profile card 1-->
        <div id="column1">
            <div class="container-fluid mt-2">
                <ul style="list-style-type: none">
                    <li class="card_list" id="card_list">

                        <!-- tutor profile 1 -->
                        <div class="card shadow-sm" style="width: 26rem">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-md-2">
                                        <img src="../views/images/placeholder.png" width="50px" height="50px" alt="tutor profile picture" class="profile-pic">
                                    </div>
                                    <!-- place text at the center -->
                                    <div class="col-md-10">
                                        <h5 class="card-title">Tutor name</h5>
                                        <span id="name">
                                    </div>
                                </div>
                                <br>

                                <div class="tutor-data">
                                    <div class="row">
                                        <!-- tutor qualification -->
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">QUALIFICATON</span>
                                            <span id="qualification">
                                            <p>Tutor Qualification</p>
                                        </div>
                                        <!-- grades being taught -->
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">Grades</span>
                                            <span id="level">
                                            <p>Grades Taught</p>
                                        </div>  
                                        <!-- subjects being taught -->
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">SUBJECTS</span>
                                            <span id="sub">
                                            <p>Sujects Taught</p>
                                        </div>
                                        <!-- lesson charges   -->
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">PRICE PER SESSION</span>
                                            <span id="cost">
                                            <p class="priceFont">Price</p>
                                        </div>
                                        <div class="w-100"></div>  
                                        <!-- tutor location -->
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">LOCATION</span>
                                            <span id="loc">
                                            <!-- <p>Tampines,Sinagapore</p> -->
                                            <p>Tutor Address</p>
                                        </div>
                                    </div>
                                </div>
                                
                                    
                                    <!-- link to message page -->
                                <a href="#" class="btn btn-primary d-flex justify-content-center">Message</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!--Profile card 2-->
        <div id = "column2">
            <div class="container-fluid mt-2">
                <ul style="list-style-type: none">
                    <li class="card_list" id="card_list">

                        <!-- tutor profile 1 -->
                        <div class="card shadow-sm" style="width: 26rem">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-md-2">
                                        <img src="../views/images/placeholder.png" width="50px" height="50px" alt="tutor profile picture" class="profile-pic">
                                    </div>
                                    <!-- place text at the center -->
                                    <div class="col-md-10">
                                        <h5 class="card-title">Tutor name</h5>
                                    </div>
                                </div>
                                <br>

                                <div class="tutor-data">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">QUALIFICATON</span>
                                            <p>Tutor Qualification</p>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">Grades</span>
                                            <p>Grades Taught</p>
                                        </div>  
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">SUBJECTS</span>
                                            <p>Sujects Taught</p>
                                        </div>  
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">PRICE PER SESSION</span>
                                            <p class="priceFont">Price</p>
                                        </div>
                                        <div class="w-100"></div>  
                                    
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">LOCATION</span>
                                            <!-- <span id="ss"> -->
                                            <!-- <p>Woodlands,Sinagpore</p> -->
                                            <p>Tutor Address</p>
                                        </div>
                                    </div>
                                </div>
                            
                                <!-- link to message page -->
                                <a href="#" class="btn btn-primary d-flex justify-content-center">Message</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!--Profile card 3-->
        <div id="column3">
            <div class="container-fluid mt-2">
                <ul style="list-style-type: none">
                    <li class="card_list" id="card_list">

                        <!-- tutor profile 1 -->
                        <!-- create cards automatically when a new tutor registers -->
                        <div class="card shadow-sm" style="width: 26rem">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-md-2">
                                        <img src="../views/images/placeholder.png" width="50px" height="50px" alt="tutor profile picture" class="profile-pic">
                                    </div>
                                    <!-- place text at the center -->
                                    <div class="col-md-10">
                                        <h5 class="card-title">Tutor name</h5>
                                    </div>
                                </div>
                                <br>

                                <div class="tutor-data">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">QUALIFICATON</span>
                                            <p>Tutor Qualification</p>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">Grades</span>
                                            <p>Grades Taught</p>
                                        </div>  
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">SUBJECTS</span>
                                            <p>Sujects Taught</p>
                                        </div>  
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            <span class="spanFont">PRICE PER SESSION</span>
                                            <p class="priceFont">Price</p>
                                        </div>
                                        <div class="w-100"></div>  
                                        
                                        <div class="col-xs-6 col-sm-6 col-md-6">
                                            
                                            <span class="spanFont">LOCATION</span>
                                                <!-- <span id="ss"> -->
                                            <p>Tutor Address</p>
                                        <!-- <div id = "loc" >        
                                            <p>Bishan,Singapore</p> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- message button -->
                                <!-- link to message page -->
                                <a href="#" class="btn btn-primary d-flex justify-content-center">Message</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    

    <!--map-->
    <div id="map"></div>
    <span id ="result"></span>

    <!-- javascript for map api and geocoding api -->
    <script>

        //initialize the map
        function initMap() {
         document.getElementById("loc").innerHTML = localStorage.getItem("textvalue");
         document.getElementById("name").innerHTML = localStorage.getItem("textvalue2");
         document.getElementById("qualification").innerHTML = localStorage.getItem("textvalue3");
         document.getElementById("level").innerHTML = localStorage.getItem("textvalue4");
         document.getElementById("sub").innerHTML = localStorage.getItem("textvalue5");
         document.getElementById("cost").innerHTML = localStorage.getItem("textvalue6");
         

        //  const bishan =[ 
        //  [{ lat: 1.352480, lng: 103.944611},],    
        //  [{ lat: 1.436050, lng: 103.786057},],    
        //  [{ lat: 1.350400, lng: 103.848750},],
        // ];
            //var bishan = { lat: 1.350400, lng: 103.848750};
        
            var map = new google.maps.Map(document.getElementById("map"), {
                zoom: 12,
                center: { lat:1.352083,lng:103.819839 },
            });

            //variable for geocode
            var geocoder = new google.maps.Geocoder();
                      
            //info window for marker
            var contentString = '<div id="column1">' +
            '<div class="container-fluid mt-2">' +
                '<ul style="list-style-type: none">' +
                    '<li class="card_list" id="card_list">' +
                        '<div class="card shadow-sm" style="width: 26rem">' +
                            '<div class="card-body">' +
                                '<div class="row">' +
                                    '<div class="col-md-2">' +
                                        '<img src="../views/images/placeholder.png" width="50px" height="50px" alt="tutor profile picture" class="profile-pic">' +
                                    "</div>" +                    
                                    '<div class="col-md-10">' +
                                        '<h5 class="card-title">tutor name</h5>' +
                                        document.getElementById("name").innerHTML +
                                    "</div>" +
                                "</div>" +
                                "<br>" +
                                '<div class="tutor-data">' +
                                    '<div class="row">' +
                                        '<div class="col-xs-6 col-sm-6 col-md-6">' +
                                            '<span class="spanFont">QUALIFICATON</span>' +
                                            document.getElementById("qualification").innerHTML +
                                            
                                        "</div>" +
                                        '<div class="col-xs-6 col-sm-6 col-md-6">' +
                                            '<span class="spanFont">Grades</span>' +
                                            document.getElementById("level").innerHTML +
                                            
                                        "</div>" +
                                        '<div class="col-xs-6 col-sm-6 col-md-6">' +
                                            '<span class="spanFont">SUBJECTS</span>' +
                                            document.getElementById("sub").innerHTML +
                                            
                                        "</div>" + 
                                        '<div class="col-xs-6 col-sm-6 col-md-6">' +
                                            '<span class="spanFont">PRICE PER SESSION</span>' +
                                            document.getElementById("cost").innerHTML +
                                            
                                        "</div>" +
                                        '<div class="w-100"></div> ' +                                 
                                        '<div class="col-xs-6 col-sm-6 col-md-6">' +                                   
                                            '<span class="spanFont">LOCATION</span>' +
                                            document.getElementById("loc").innerHTML +     
                                            
                                           "</div>" +
                                        "</div>" +
                                    "</div>" +
                                "</div>" +                                              
                                '<a href="#" class="btn btn-primary d-flex justify-content-center">Message</a>' +                       
                            "</div>" +
                        "</div>" +
                    "</li>" +
                "</ul>" +
            "</div>" +
            "</div>" ;

            //variable for info window
            var infowindow = new google.maps.InfoWindow({
                content: contentString,
            });

            geocodeAddress(geocoder, map, infowindow);

            // var infowindow = new google.maps.InfoWindow({
            //     content: contentString,
    
            // });
            // var marker = new google.maps.Marker({
            //     position: bishan,
            //     map,
            // });
            // marker.addListener("click", () => {
            //     infowindow.open({
            //     anchor: marker,
            //     map,
            //     shouldFocus: false,
            //     });
            // });
        }

        //to geocode the address and create marker
        function geocodeAddress(geocoder, resultsMap, infowindow) {
            var address = localStorage.getItem("textvalue");
           // var address = document.getElementById("loc").value;
            geocoder
            .geocode({ address: address })
            .then(({ results }) => {
                resultsMap.setCenter(results[0].geometry.location);
                var marker = new google.maps.Marker({
                    map: resultsMap,
                    position: results[0].geometry.location,
                });

                // to create infowindow on clcik
                marker.addListener("click", () => {
                infowindow.open({
                 anchor: marker,
                 map: resultsMap,
                 shouldFocus: false,
                 });
                });
                //geocodePosition(marker.getPosition(), infowindow);
            })

        }

        //function to create a info widnow that displays the profile for the marker
        function geocodePosition(pos, infowindow) {
            geocoder.geocode({
                latLng: pos
            }, function(responses) {
                if (responses && responses.length > 0) {
                var address = localStorage.getItem("textvalue");      
               // updateMarkerAddress(address);
                infowindow.setContent('<div><strong>' + address + '</strong><br>');
                } 
                else {
                var msg = 'Cannot determine address at this location.';      
                //updateMarkerAddress(msg);
                infowindow.setContent('<div><strong>' + msg + '</strong><br>');
                }
             });
        } 
    </script>
    
    <!-- footer -->
    <div id="footerRow" style="margin-top: 0px">
        <footer class="text-center">
            <div class="container">
                <div class="row">

                    <!-- About Us component -->
                    <div class="col-md-4 mx-auto">
                        <h6 class="text-uppercase mb-4 mt-2" style="color: black;">About Us</h6>
                        <p class="mb-0 fw-normal text-center">
                            Tuition App provides information about the various tutions out there.
                            This app is suitable for everyone regardless of their age or grade.
                            Our app has many features and has good reviews and feedbacks from the users.
                        </p>
                    </div>

                    <!-- around the web comp -->
                    <div class="col-md-4 mb-5 mx-auto">
                        <h6 class="text-uppercase mb-4 mt-2" style="color: black;">Around the Web</h6>
                        <ul class="list-inline mb-0">
                            <!-- facebook -->
                            <li class="list-inline-item">
                                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.facebook.com/"  target="_blank">
                                    <i class="fab fa-facebook"></i>
                                </a>
                            </li>
                            <!-- microsoft outlook -->
                            <li class="list-inline-item">
                                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://outlook.live.com/"  target="_blank">
                                    <i class="fas fa-envelope"></i>
                                </a>
                            </li>
                            <!-- twitter -->
                            <li class="list-inline-item">
                                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://twitter.com/?lang=en"  target="_blank">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </li>
                            <!-- linkedin -->
                            <li class="list-inline-item">
                                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.linkedin.com/feed/" target="_blank">
                                    <i class="fab fa-linkedin"></i>
                                </a>
                            </li>
                            <!-- instagram -->
                            <li class="list-inline-item">
                                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.instagram.com/"  target="_blank">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- location comp -->
                    <div class="col-md-4 mb-5 mx-auto">
                        <h6 class="text-uppercase mb-4 mt-2" style="color: black;">Contact Us</h6>
                        <p class="mb-0 fw-normal text-center" style="color: black;">
                            60 Paya Lebar Rd,<br>
                            #06-57,<br>
                            Singapore 409057<br>
                            Malaysia | Singapore
                        </p>
                    </div>
                </div>
            </div>
        </footer>

        <!-- copyright component -->
        <div class="copyright py-3 text-center mt-4" style="background-color:#a7c8cf;">
            <div class="container" style="color: black;">
                <small>Copyright &copy; Tuition App 2021</small>
            </div>
        </div>
    </div>
    <!-- end of footer -->

    <!--Maps Api script-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpsU6ailc5cINO7THGgJq7mVv8uGBfGw4&callback=initMap&libraries=&v=weekly" async></script>

     <!-- bootstrap JS -->
     <script src= "https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
 

</body>
</html>